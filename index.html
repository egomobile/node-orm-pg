<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@egomobile/orm-pg</title><meta name="description" content="Documentation for @egomobile/orm-pg"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@egomobile/orm-pg</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@egomobile/orm-pg</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography"><p><a href="https://www.npmjs.com/package/@egomobile/orm-pg"><img src="https://img.shields.io/npm/v/@egomobile/orm-pg.svg" alt="npm"></a>
<a href="https://github.com/egomobile/node-orm-pg/actions?query=workflow%3APublish"><img src="https://img.shields.io/github/workflow/status/egomobile/node-orm-pg/Publish" alt="last build"></a>
<a href="https://github.com/egomobile/node-orm-pg/pulls"><img src="https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square" alt="PRs Welcome"></a></p>

<a href="#egomobileorm-pg" id="egomobileorm-pg" style="color: inherit; text-decoration: none;">
  <h1>@egomobile/orm-pg</h1>
</a>
<blockquote>
<p>A PostgreSQL data adapter and other utilities for <a href="https://github.com/egomobile/node-orm">@egomobile/orm</a> module.</p>
</blockquote>

<a href="#install" id="install" style="color: inherit; text-decoration: none;">
  <h2>Install</h2>
</a>
<p>Execute the following command from your project folder, where your <code>package.json</code> file is stored:</p>
<pre><code class="language-bash"><span class="hl-0">npm install --save @egomobile/orm-pg</span>
</code></pre>
<p>The following modules are defined in <a href="https://nodejs.org/uk/blog/npm/peer-dependencies/">peerDependencies</a> and have to be installed manually:</p>
<ul>
<li><a href="https://github.com/egomobile/node-orm">@egomobile/orm</a></li>
<li><a href="https://github.com/brianc/node-postgres">pg</a></li>
</ul>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">createDataContext</span><span class="hl-0">, </span><span class="hl-2">DbNullable</span><span class="hl-0">, </span><span class="hl-2">NULL</span><span class="hl-0"> </span><span class="hl-1">as</span><span class="hl-0"> </span><span class="hl-2">DbNull</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&quot;@egomobile/orm&quot;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">PostgreSQLDataAdapter</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&quot;@egomobile/orm-pg&quot;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> </span><span class="hl-1">type</span><span class="hl-0"> { </span><span class="hl-2">QueryResult</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&quot;pg&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">class</span><span class="hl-0"> </span><span class="hl-5">User</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-6">// non-nullable fields</span><br/><span class="hl-0">  </span><span class="hl-4">public</span><span class="hl-0"> </span><span class="hl-2">id</span><span class="hl-0">: </span><span class="hl-5">number</span><span class="hl-0"> | </span><span class="hl-5">null</span><span class="hl-0"> = </span><span class="hl-4">null</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-4">public</span><span class="hl-0"> </span><span class="hl-2">first_name</span><span class="hl-0">: </span><span class="hl-5">string</span><span class="hl-0"> | </span><span class="hl-5">null</span><span class="hl-0"> = </span><span class="hl-4">null</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-4">public</span><span class="hl-0"> </span><span class="hl-2">last_name</span><span class="hl-0">: </span><span class="hl-5">string</span><span class="hl-0"> | </span><span class="hl-5">null</span><span class="hl-0"> = </span><span class="hl-4">null</span><span class="hl-0">;</span><br/><br/><span class="hl-0">  </span><span class="hl-6">// nullable fields</span><br/><span class="hl-0">  </span><span class="hl-4">public</span><span class="hl-0"> </span><span class="hl-2">email</span><span class="hl-0">: </span><span class="hl-5">DbNullable</span><span class="hl-0">&lt;</span><span class="hl-5">string</span><span class="hl-0"> | </span><span class="hl-5">null</span><span class="hl-0">&gt; = </span><span class="hl-4">null</span><span class="hl-0">;</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-4">async</span><span class="hl-0"> </span><span class="hl-4">function</span><span class="hl-0"> </span><span class="hl-7">main</span><span class="hl-0">() {</span><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-8">context</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-7">createDataContext</span><span class="hl-0">({</span><br/><span class="hl-0">    </span><span class="hl-2">adapter:</span><span class="hl-0"> </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-7">PostgreSQLDataAdapter</span><span class="hl-0">(),</span><br/><span class="hl-0">    </span><span class="hl-2">entities:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-6">// name of the entity / table</span><br/><span class="hl-0">      </span><span class="hl-2">users:</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-2">ids:</span><span class="hl-0"> [</span><span class="hl-3">&quot;id&quot;</span><span class="hl-0">], </span><span class="hl-6">// list of column(s) which represent the ID</span><br/><span class="hl-0">        </span><span class="hl-2">type:</span><span class="hl-0"> </span><span class="hl-2">User</span><span class="hl-0">, </span><span class="hl-6">// the class / type to use to create objects from</span><br/><span class="hl-0">      },</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-8">listOfUsers</span><span class="hl-0">: </span><span class="hl-5">User</span><span class="hl-0">[] = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">context</span><span class="hl-0">.</span><span class="hl-7">find</span><span class="hl-0">(</span><span class="hl-2">User</span><span class="hl-0">, {</span><br/><span class="hl-0">    </span><span class="hl-6">// WHERE clause</span><br/><span class="hl-0">    </span><span class="hl-2">where:</span><span class="hl-0"> </span><span class="hl-3">&quot;is_active=$1 AND is_deleted=$2&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">params:</span><span class="hl-0"> [</span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-4">false</span><span class="hl-0">], </span><span class="hl-6">// $1, $2</span><br/><br/><span class="hl-0">    </span><span class="hl-2">offset:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">, </span><span class="hl-6">// skip the first</span><br/><span class="hl-0">    </span><span class="hl-2">limit:</span><span class="hl-0"> </span><span class="hl-9">100</span><span class="hl-0">, </span><span class="hl-6">// only return 100 rows</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-6">// return a user with ID 5979</span><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-8">specificUser</span><span class="hl-0">: </span><span class="hl-5">User</span><span class="hl-0"> | </span><span class="hl-5">null</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">context</span><span class="hl-0">.</span><span class="hl-7">findOne</span><span class="hl-0">(</span><span class="hl-2">User</span><span class="hl-0">, {</span><br/><span class="hl-0">    </span><span class="hl-2">where:</span><span class="hl-0"> </span><span class="hl-3">&quot;id=$1&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">params:</span><span class="hl-0"> [</span><span class="hl-9">5979</span><span class="hl-0">], </span><span class="hl-6">// $1</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-1">if</span><span class="hl-0"> (</span><span class="hl-2">specificUser</span><span class="hl-0"> !== </span><span class="hl-4">null</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-6">// update with new data</span><br/><span class="hl-0">    </span><span class="hl-2">specificUser</span><span class="hl-0">.</span><span class="hl-2">last_name</span><span class="hl-0"> = </span><span class="hl-3">&quot;Doe&quot;</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-2">specificUser</span><span class="hl-0">.</span><span class="hl-2">first_name</span><span class="hl-0"> = </span><span class="hl-3">&quot;Jane&quot;</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-2">specificUser</span><span class="hl-0">.</span><span class="hl-2">email</span><span class="hl-0"> = </span><span class="hl-2">DbNull</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">context</span><span class="hl-0">.</span><span class="hl-7">update</span><span class="hl-0">(</span><span class="hl-2">specificUser</span><span class="hl-0">);</span><br/><br/><span class="hl-0">    </span><span class="hl-6">// remove from database</span><br/><span class="hl-0">    </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">context</span><span class="hl-0">.</span><span class="hl-7">remove</span><span class="hl-0">(</span><span class="hl-2">specificUser</span><span class="hl-0">);</span><br/><span class="hl-0">  } </span><span class="hl-1">else</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-7">log</span><span class="hl-0">(</span><span class="hl-3">&quot;User not found&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-6">// create new POCO</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-8">newUser</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-7">User</span><span class="hl-0">();</span><br/><span class="hl-2">newUser</span><span class="hl-0">.</span><span class="hl-2">first_name</span><span class="hl-0"> = </span><span class="hl-3">&quot;John&quot;</span><span class="hl-0">;</span><br/><span class="hl-2">newUser</span><span class="hl-0">.</span><span class="hl-2">last_name</span><span class="hl-0"> = </span><span class="hl-3">&quot;Doe&quot;</span><span class="hl-0">;</span><br/><span class="hl-6">// ... and add it to database</span><br/><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">context</span><span class="hl-0">.</span><span class="hl-7">insert</span><span class="hl-0">(</span><span class="hl-2">newUser</span><span class="hl-0">);</span><br/><br/><span class="hl-6">// do raw queries</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-8">result</span><span class="hl-0">: </span><span class="hl-5">QueryResult</span><span class="hl-0">&lt;</span><span class="hl-5">any</span><span class="hl-0">&gt; = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">context</span><span class="hl-0">.</span><span class="hl-7">query</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-3">&quot;SELECT * FROM users WHERE id=$1 AND is_active=$2;&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-9">23979</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-4">true</span><br/><span class="hl-0">);</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-7">log</span><span class="hl-0">(</span><span class="hl-2">result</span><span class="hl-0">);</span><br/><br/><span class="hl-7">main</span><span class="hl-0">().</span><span class="hl-7">catch</span><span class="hl-0">(</span><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-2">error</span><span class="hl-0">);</span>
</code></pre>

<a href="#migrations" id="migrations" style="color: inherit; text-decoration: none;">
  <h2>Migrations</h2>
</a>
<p>Before you can use migrations, first keep sure to have an existing <code>migrations</code> table in your database:</p>
<pre><code class="language-sql"><span class="hl-4">CREATE</span><span class="hl-0"> </span><span class="hl-4">TABLE</span><span class="hl-0"> </span><span class="hl-4">IF</span><span class="hl-0"> </span><span class="hl-4">NOT</span><span class="hl-0"> </span><span class="hl-4">EXISTS</span><span class="hl-0"> public.migrations</span><br/><span class="hl-0">(</span><br/><span class="hl-0">    </span><span class="hl-3">&quot;id&quot;</span><span class="hl-0"> </span><span class="hl-4">bigserial</span><span class="hl-0"> </span><span class="hl-4">NOT</span><span class="hl-0"> </span><span class="hl-4">NULL</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-3">&quot;timestamp&quot;</span><span class="hl-0"> </span><span class="hl-4">bigint</span><span class="hl-0"> </span><span class="hl-4">NOT</span><span class="hl-0"> </span><span class="hl-4">NULL</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-3">&quot;name&quot;</span><span class="hl-0"> </span><span class="hl-4">character</span><span class="hl-0"> varying </span><span class="hl-4">NOT</span><span class="hl-0"> </span><span class="hl-4">NULL</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-4">CONSTRAINT</span><span class="hl-0"> pk_migrations_id </span><span class="hl-4">PRIMARY</span><span class="hl-0"> </span><span class="hl-4">KEY</span><span class="hl-0"> (id)</span><br/><span class="hl-0">)</span><br/><span class="hl-4">WITH</span><span class="hl-0"> (</span><br/><span class="hl-0">    OIDS = FALSE</span><br/><span class="hl-0">);</span>
</code></pre>
<p>A quick example how to use <a href="https://egomobile.github.io/node-orm-pg/classes/PostgreSQLDataAdapter.html">PostgreSQLDataAdapter class</a>:</p>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">PostgreSQLDataAdapter</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&quot;@egomobile/orm-pg&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">async</span><span class="hl-0"> </span><span class="hl-4">function</span><span class="hl-0"> </span><span class="hl-7">main</span><span class="hl-0">() {</span><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-8">context</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-7">PostgreSQLMigrationContext</span><span class="hl-0">({</span><br/><span class="hl-0">    </span><span class="hl-6">// a default adapter</span><br/><span class="hl-0">    </span><span class="hl-2">adapter:</span><span class="hl-0"> </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-7">PostgreSQLDataAdapter</span><span class="hl-0">(),</span><br/><br/><span class="hl-0">    </span><span class="hl-6">// scan for .js files</span><br/><span class="hl-0">    </span><span class="hl-6">// inside ./migration subfolder</span><br/><span class="hl-0">    </span><span class="hl-6">// with the following format:</span><br/><span class="hl-0">    </span><span class="hl-6">//</span><br/><span class="hl-0">    </span><span class="hl-6">// &lt;UNIX-TIMESTAMP&gt;-&lt;NAME-OF-THE-MIGRATION&gt;.js</span><br/><span class="hl-0">    </span><span class="hl-6">//</span><br/><span class="hl-0">    </span><span class="hl-6">// example: 1746942104690-CreateUserTable.js</span><br/><span class="hl-0">    </span><span class="hl-2">migrations:</span><span class="hl-0"> </span><span class="hl-2">__dirname</span><span class="hl-0"> + </span><span class="hl-3">&quot;/migration&quot;</span><span class="hl-0">,</span><br/><br/><span class="hl-0">    </span><span class="hl-2">table:</span><span class="hl-0"> </span><span class="hl-3">&quot;migrations&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-6">// UP-GRADE database</span><br/><span class="hl-0">  </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">context</span><span class="hl-0">.</span><span class="hl-7">up</span><span class="hl-0">();</span><br/><br/><span class="hl-0">  </span><span class="hl-6">// DOWN-GRADE database</span><br/><span class="hl-0">  </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">context</span><span class="hl-0">.</span><span class="hl-7">down</span><span class="hl-0">();</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-7">main</span><span class="hl-0">().</span><span class="hl-7">catch</span><span class="hl-0">(</span><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-2">error</span><span class="hl-0">);</span>
</code></pre>
<p>A migration file looks like this:</p>
<pre><code class="language-javascript"><span class="hl-6">/**</span><br/><span class="hl-6"> * Function to UP-GRADE the database.</span><br/><span class="hl-6"> */</span><br/><span class="hl-5">module</span><span class="hl-0">.</span><span class="hl-5">exports</span><span class="hl-0">.</span><span class="hl-7">up</span><span class="hl-0"> = </span><span class="hl-4">async</span><span class="hl-0"> (</span><span class="hl-2">context</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-6">// context =&gt; https://egomobile.github.io/node-orm/interfaces/IDataContext.html</span><br/><br/><span class="hl-0">  </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">context</span><span class="hl-0">.</span><span class="hl-7">query</span><span class="hl-0">(</span><span class="hl-3">`</span><br/><span class="hl-3">CREATE TABLE public.tdta_user</span><br/><span class="hl-3">(</span><br/><span class="hl-3">    &quot;id&quot; bigserial NOT NULL,</span><br/><span class="hl-3">    &quot;uuid&quot; character(36) NOT NULL,</span><br/><span class="hl-3">    &quot;email&quot; character varying NOT NULL,</span><br/><span class="hl-3">    &quot;created&quot; timestamp with time zone NOT NULL,</span><br/><span class="hl-3">    &quot;updated&quot; timestamp with time zone,</span><br/><br/><span class="hl-3">    CONSTRAINT &quot;pk_tdta_user_id&quot; PRIMARY KEY (id),</span><br/><span class="hl-3">    CONSTRAINT &quot;uq_tdta_user_uuid&quot; UNIQUE (uuid),</span><br/><span class="hl-3">    CONSTRAINT &quot;uq_tdta_user_account_id&quot; UNIQUE (account_id)</span><br/><span class="hl-3">)</span><br/><span class="hl-3">WITH (</span><br/><span class="hl-3">    OIDS = FALSE</span><br/><span class="hl-3">);</span><br/><span class="hl-3">`</span><span class="hl-0">);</span><br/><span class="hl-0">};</span><br/><br/><span class="hl-6">/**</span><br/><span class="hl-6"> * Function to DOWN-GRADE the database.</span><br/><span class="hl-6"> */</span><br/><span class="hl-5">module</span><span class="hl-0">.</span><span class="hl-5">exports</span><span class="hl-0">.</span><span class="hl-7">down</span><span class="hl-0"> = </span><span class="hl-4">async</span><span class="hl-0"> (</span><span class="hl-2">context</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-6">// context =&gt; https://egomobile.github.io/node-orm/interfaces/IDataContext.html</span><br/><br/><span class="hl-0">  </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-2">context</span><span class="hl-0">.</span><span class="hl-7">query</span><span class="hl-0">(</span><span class="hl-3">`DROP TABLE public.tdta_user;`</span><span class="hl-0">);</span><br/><span class="hl-0">};</span>
</code></pre>
<p>You are also able to create a migration file programmatically:</p>
<pre><code class="language-typescript"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">createNewMigrationFile</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&quot;@egomobile/orm-pg&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-8">newFilePath</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-7">createNewMigrationFile</span><span class="hl-0">(</span><span class="hl-3">&quot;the name of the migration&quot;</span><span class="hl-0">, {</span><br/><span class="hl-0">  </span><span class="hl-6">// create output file inside ./migrations sub folder</span><br/><span class="hl-0">  </span><span class="hl-2">dir:</span><span class="hl-0"> </span><span class="hl-2">__dirname</span><span class="hl-0"> + </span><span class="hl-3">&quot;/migrations&quot;</span><span class="hl-0">,</span><br/><br/><span class="hl-0">  </span><span class="hl-6">// generate and add optional header and footer to the file</span><br/><span class="hl-0">  </span><span class="hl-7">header</span><span class="hl-2">:</span><span class="hl-0"> ({ </span><span class="hl-2">name</span><span class="hl-0">, </span><span class="hl-2">timestamp</span><span class="hl-0"> }) </span><span class="hl-4">=&gt;</span><br/><span class="hl-0">    </span><span class="hl-3">`// Hello, this is migration &#39;</span><span class="hl-4">${</span><span class="hl-2">name</span><span class="hl-4">}</span><span class="hl-3">&#39; created on </span><span class="hl-4">${</span><span class="hl-2">timestamp</span><span class="hl-4">}</span><span class="hl-10">\n\n</span><span class="hl-3">`</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">footer:</span><span class="hl-0"> </span><span class="hl-3">&quot;</span><span class="hl-10">\n\n</span><span class="hl-3">// Copyright (x) e.GO Mobile SE, Aachen, Germany</span><span class="hl-10">\n\n</span><span class="hl-3">&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-7">log</span><span class="hl-0">(</span><span class="hl-3">&quot;Migration file has been created in&quot;</span><span class="hl-0">, </span><span class="hl-2">newFilePath</span><span class="hl-0">);</span>
</code></pre>

<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
  <h2>Documentation</h2>
</a>
<p>The API documentation can be found <a href="https://egomobile.github.io/node-orm-pg/">here</a>.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class"><a href="classes/PostgreSQLDataAdapter.html" class="tsd-kind-icon">PostgreSQLData<wbr/>Adapter</a></li><li class="tsd-kind-class"><a href="classes/PostgreSQLMigrationContext.html" class="tsd-kind-icon">PostgreSQLMigration<wbr/>Context</a></li><li class="tsd-kind-interface"><a href="interfaces/ICreateNewMigrationOptions.html" class="tsd-kind-icon">ICreate<wbr/>New<wbr/>Migration<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/IMigrationFileStringBuilderContext.html" class="tsd-kind-icon">IMigration<wbr/>File<wbr/>String<wbr/>Builder<wbr/>Context</a></li><li class="tsd-kind-interface"><a href="interfaces/INewMigrationInfo.html" class="tsd-kind-icon">INew<wbr/>Migration<wbr/>Info</a></li><li class="tsd-kind-interface"><a href="interfaces/IPostgreSQLMigration.html" class="tsd-kind-icon">IPostgreSQLMigration</a></li><li class="tsd-kind-interface"><a href="interfaces/IPostgreSQLMigrationModule.html" class="tsd-kind-icon">IPostgreSQLMigration<wbr/>Module</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DebugAction" class="tsd-kind-icon">Debug<wbr/>Action</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DebugIcon" class="tsd-kind-icon">Debug<wbr/>Icon</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MigrationAction" class="tsd-kind-icon">Migration<wbr/>Action</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MigrationFileStringBuilder" class="tsd-kind-icon">Migration<wbr/>File<wbr/>String<wbr/>Builder</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MigrationFileStringBuilderContextType" class="tsd-kind-icon">Migration<wbr/>File<wbr/>String<wbr/>Builder<wbr/>Context<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#PostgreSQLClientLike" class="tsd-kind-icon">PostgreSQLClient<wbr/>Like</a></li><li class="tsd-kind-function"><a href="modules.html#createNewMigrationFile" class="tsd-kind-icon">create<wbr/>New<wbr/>Migration<wbr/>File</a></li><li class="tsd-kind-function"><a href="modules.html#createNewMigrationFileSync" class="tsd-kind-icon">create<wbr/>New<wbr/>Migration<wbr/>File<wbr/>Sync</a></li><li class="tsd-kind-function"><a href="modules.html#createNewMigrationInfo" class="tsd-kind-icon">create<wbr/>New<wbr/>Migration<wbr/>Info</a></li><li class="tsd-kind-function"><a href="modules.html#isPostgreSQLClientLike" class="tsd-kind-icon">is<wbr/>PostgreSQLClient<wbr/>Like</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>